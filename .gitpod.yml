# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/introduction/learn-gitpod/gitpod-yaml)
# and commit this file to your remote git repository to share the goodness with others.

# Learn more from ready-to-use templates: https://www.gitpod.io/docs/introduction/getting-started/quickstart

tasks:
  - init: go get && go build ./...
  - command: |
      curl -L https://fly.io/install.sh | sh
      export FLYCTL_INSTALL="/home/gitpod/.fly"
      export PATH="$FLYCTL_INSTALL/bin:$PATH"
      go install github.com/sqlc-dev/sqlc/cmd/sqlc@latest
      go install github.com/pressly/goose/v3/cmd/goose@latest
      go install github.com/cosmtrek/air@latest
      goose -dir migrations sqlite3 /tmp/potato.db up
      go run scripts/seed.go


vscode:
  extensions:
    - qwtel.sqlite-viewer
    - golang.go
    - redhat.vscode-yaml